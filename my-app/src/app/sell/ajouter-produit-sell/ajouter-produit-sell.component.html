<form (ngSubmit)="addProduit()">
  <div
    class="bg-white absolute flex justify-between inset-32 inset-x-[38%] flex-col rounded-lg z-50"
  >
    <div class="flex flex-row justify-between p-5">
      <div class="font-mainFont text-2xl">Ajouter produit au panier</div>
      <div
        (click)="hideAddProduit()"
        class="bg-mainyellow/20 rounded-md hover:cursor-pointer"
      >
        <svg
          class="fill-mainpurple w-7 h-7"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 320 512"
        >
          <path
            d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"
          />
        </svg>
      </div>
    </div>
    <div class="text-maingrey font-secondaryFont p-5">recherche produit</div>
    <div class="p-5">
      <div
        class=" rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5"
      >
        <div
        
          class="py-1  bg-white"
          role="menu"
          aria-orientation="vertical"
          aria-labelledby="options-menu"
        >
          <label class="w-full" for="supplier-search" class="sr-only">Search suppliers</label>
          <input
            id="products-search"
            type="text"
            name="searchProduit"
            class="w-full px-2 py-2 border border-gray-300 placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"
            placeholder="Search PRODUITS"
            (input)="searchProduit()"
            [(ngModel)]="searchInput"
          />
          <div class="max-h-60 bg-white ">
            <select name="supplier" [(ngModel)]="selectedProduitId" (change)="change()">
              <option [value]="produit.id"
              *ngFor="let produit of produits"
              class="w-full text-left px-2 py-2 bg-white text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:bg-gray-100 focus:text-gray-900"
            >
              {{ produit.name }}
            </option>
            </select>
            
          </div>
        </div>
    </div>
    </div>
    
  <div class="p-5">
    prix : {{selectedProduitPrice }}
  </div>
  <div class="p-5">
    quantité disponible  : {{selectedProduitQte }}
  </div>
  
  <div class="p-5">
    quantité : 
    <input
      type="number"
      name="quantity"
      class="w-full px-2 py-2 border border-gray-300 placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"
      placeholder="quantité"
      [(ngModel)]="quantite"
      [max]="selectedProduitQte"
  >
  </div>
  <div *ngIf="quantite > selectedProduitQte" class="p-5 text-red-500 text-md">Quantité disponible insuffisante</div>
  <div *ngIf="quantite < 1" class="p-5 text-red-500 text-md">La quantité doit être strictement positive</div>
  <div class="flex flex-row justify-between">
    <div class="p-10">
      <button
        class="hover:cursor-pointer inline-block rounded bg-gradient-to-r from-mainpurple to-mainyellow p-[2px] hover:text-white focus:outline-none focus:ring active:text-opacity-75"
        (click)="hideAddProduit()"
      >
        <span
          class="block rounded-sm bg-white px-10 py-4 text-sm font-medium hover:bg-transparent"
        >
          Cancel
        </span>
      </button>
    </div>
    <div class="p-10">
      <button
        class="inline-block rounded bg-gradient-to-r from-mainpurple to-mainyellow p-[2px] hover:text-white focus:outline-none focus:ring active:text-opacity-75"
        type="submit"
        [disabled]="quantite > selectedProduitQte || quantite < 1"
      >
        <span
          class="block rounded-sm bg-white px-10 py-4 text-sm font-medium hover:bg-transparent"
        >
          Add
        </span>
      </button>
    </div>
  </div>
  </div>
</form>
